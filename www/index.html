<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="default-src * data: gap: content: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
    <title>SYMBOLネットワークを体験してみよう！</title>
    <script src="components/loader.js"></script>
    <script src="src/config.js"></script>
    <script src="src/stage.js"></script>
    <script src="src/score.js"></script>
    <script src="src/puyoimage.js"></script>
    <script src="src/player.js"></script>
    <script src="src/game.js"></script>
    <link rel="stylesheet" href="components/loader.css">
    <link rel="stylesheet" href="css/style.css">
    <script>
    </script>
     <!-- 設定値の定義とライブラリのインポート&ライブラリのインスタンス生成 -->
    <script src="https://xembook.github.io/nem2-browserify/symbol-sdk-1.0.1.js"></script>
    <script language="JavaScript">

        NODE = 'https://sym-test-09.opening-line.jp:3001';
        GENERATION_HASH = '7FCCD304802016BEBBCD342A332F91FF1F3BB5E902988B352697BE245F48E836';
        EPOCH_ADJUSTMENT = 1637848847;
        nem = require("/node_modules/symbol-sdk");

</head>
    <body style="margin:0;">
            <div class="container1">
            <p>ボタンをクリックすると<br>一時停止し<br>トランザクションが実行されます！</p>
            <script src="https://xembook.github.io/nem2-browserify/symbol-sdk-1.0.1.js"></script>
            <input class="favorite styled" type="button"value="一時停止" id="btn">
            </div>

            <script>
            NODE = 'https://sym-test-07.opening-line.jp:3001';
            GENERATION_HASH = "7FCCD304802016BEBBCD342A332F91FF1F3BB5E902988B352697BE245F48E836";
            EPOCH_ADJUSTMENT = 1637848847;

            nem = require("/node_modules/symbol-sdk");
            //払い出し設定
            //XYMを送金するアカウントの秘密錠に変更する。（0000000...の羅列記載箇）
            function butotnClick(){
            alert('再開します');
            alice = nem.Account.createFromPrivateKey(
            'C9453912BF432818611410142D62B5C037CC8F131F9F4CDBDE765D2B35327DAF',
            nem.NetworkType.TEST_NET);
            console.log(alice);
            //XYMを受け取るアカウントのアドレスに変更する。（aaaaaaa...の羅列記載の箇所）
            tx = nem.TransferTransaction.create(
            nem.Deadline.create(EPOCH_ADJUSTMENT),
            nem.Address.createFromRawAddress("TDW2WEV6IA37S2KHHWJ7CDI3TCBKS2VI53ENEMQ"),
            [new nem.Mosaic(new nem.MosaicId('3A8416DB2D53B6C8'), nem.UInt64.fromUint(1000))],
            nem.PlainMessage.create('ゲーム再開！'),
            nem.NetworkType.TEST_NET,
            nem.UInt64.fromUint(100000)
            );

            console.log(tx);

            signedTx = alice.sign(tx, GENERATION_HASH);

            console.log(signedTx);



            new nem.TransactionHttp(NODE)
            .announce(signedTx)
            .subscribe((x) => console.log(x), (err) => console.error(err));
            }

            let button = document.getElementById('btn');
            button.addEventListener('click', butotnClick);
            </script>
        <!-- <div id="stage" style="position:absolute; left: 0; top: 0; overflow: hidden;"></div> -->
        <div id="stage" style="position:relative; margin: 0 auto; overflow: hidden;background: url(img/マイクラ背景.jpg) no-repeat;"></div>
        <!-- <div id="score" style="position:absolute; left: 0; top: 0; overflow: hidden; text-align: right;"></div> -->
        <div id="score" style="margin: 0 auto; overflow: hidden; text-align: right;"></div>
        <div style="display:none">
            <img src="img/まいっきー.png" id="puyo_1">
            <img src="img/ゼンイチ.png" id="puyo_2">
            <img src="img/マイクラ.png" id="puyo_3">
            <img src="img/maikura.png" id="puyo_4">
            <img src="img/nem2.png" id="puyo_5">
            <img src="img/batankyu.png" id="batankyu">
            <img src="img/zenkeshi.png" id="zenkeshi">
            <img src="img/0.png" id="font0">
            <img src="img/1.png" id="font1">
            <img src="img/2.png" id="font2">
            <img src="img/3.png" id="font3">
            <img src="img/4.png" id="font4">
            <img src="img/5.png" id="font5">
            <img src="img/6.png" id="font6">
            <img src="img/7.png" id="font7">
            <img src="img/8.png" id="font8">
            <img src="img/9.png" id="font9">
        </div>
        
    </body>
</html>
